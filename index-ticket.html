<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>GITEX NIGERIA</title>
    <link rel="stylesheet" href="assets/css/new-style-visitor.css">
    <link rel="stylesheet" href="assets/fonts/webfont/stylesheet.css">
    <link rel="icon" type="image/png" href="assets/img/fav-icon.png">

    <style>
        body {
            padding-bottom: 80px;
            scroll-behavior: smooth !important;
        } 

        @media (max-width: 992px) {
            body{
                padding-bottom: 120px;
            }
        }
    </style>
</head>

<body>

    <!-- loader -->
      <div id="loader-wrapper">
        <div class="loader">
            <svg viewBox="0 0 80 80">
                <circle id="test" cx="40" cy="40" r="32"></circle>
            </svg>
        </div>
        <div class="loader triangle">
            <svg viewBox="0 0 86 80">
                <polygon points="43 8 79 72 7 72"></polygon>
            </svg>
        </div>
        <div class="loader">
            <svg viewBox="0 0 80 80">
                <rect x="8" y="8" width="64" height="64"></rect>
            </svg>
        </div>
    </div>
    <!-- loader -->

    <div class="width-container">
       <div class="inner-banner">
            <a href=""><img src="assets/img/ni-header.png" class="img-fluid sm-hide-logo"></a>

            <div>
                <div class="registration-text">GITEX NIGERIA TECH EXPO +  <br> FUTURE ECONOMY SUMMIT</div>
            <a href="login.html"><button class="btn-main"><i class="animation"></i>
                                        Login<i class="animation"></i>
                                    </button></a>
            </div>
        </div>

        <div class="content">

            <div class="head-text-buttons">
                <h1 class="select-title">Select your pass</h1>

            </div>






           
        </div>

        <section class="footer">
        <div class="container">
            <img src="assets/img/logo.png" alt="" class="logo-width">
            <div class="social-icons">
                <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="#" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
                </div>
        </div>
    </section>
    </div>

    <div id="custom-toast"></div>

    





    <div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="premium-card">
                    <div class="premium-header d-flex justify-content-between align-items-center">
                        PREMIUM TICKET
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="premium-content">
                            <p>The <b>Premium Ticket</b> grants you 3 days access to GITEX NIGERIA exhibition in addition
                                to the
                                following key features:</p>
                            <ul class="premium-list">
                                <li>Lounge Access: ConneXions and Investor Lounges</li>
                                <li>Networking events (TBC closer to the show days)</li>
                                <li>All Conferences Tracks</li>
                                <li>All Masterclasses</li>
                            </ul>
                        </div>
                        <div class="event-info">
                            <h2>Date &amp; Time</h2>
                            <p><strong>21–23 MAY 2025 | 09.30 AM – 17.00 PM</strong></p>
                            <p class="location"><span><svg xmlns="http://www.w3.org/2000/svg" width="13" height="19"
                                        viewBox="0 0 13 19" fill="none">
                                        <path
                                            d="M6.5 0C2.90643 0 0 2.9735 0 6.65C0 11.6375 6.5 19 6.5 19C6.5 19 13 11.6375 13 6.65C13 2.9735 10.0936 0 6.5 0ZM6.5 9.025C5.21857 9.025 4.17857 7.961 4.17857 6.65C4.17857 5.339 5.21857 4.275 6.5 4.275C7.78143 4.275 8.82143 5.339 8.82143 6.65C8.82143 7.961 7.78143 9.025 6.5 9.025Z"
                                            fill="#013788"></path>
                                    </svg></span> MESSE BERLIN, SOUTH ENTRANCE</p>

                            <div class="note">
                                <h3>Note:</h3>


                                <div class="premium-content">
                                    <ul class="premium-list">
                                        <li>Visitors under the age of 21 will not be admitted, and admission to the
                                            exhibition is restricted to trade and business professionals only.</li>
                                        <li>Students above 16 and below 18 can attend only if accompanied by a school or
                                            faculty member.</li>
                                    </ul>
                                </div>


                            </div>
                        </div>
                    </div>
                    <div class="premium-footer">
                        <div>
                            <div class="price">EUR 2,000</div>
                            <div class="vat">Incl. 19% VAT</div>
                        </div>
                    
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="workShop" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="premium-card">
                    <div class="premium-header d-flex justify-content-between align-items-center">
                        PREMIUM TICKET
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="premium-content">
                            <p>
                                The <b>Premium Ticket</b> grants you 3 days access to GITEX NIGERIA exhibition in
                                addition to
                                the
                            </p>
                            following key features:

                        </div>
                        <div class="event-info">
                            <h2>To help deliver a better experience, select your most preferred conference(s).</h2>
                             <span id="max-limit-error" style="color: red; display: none; margin-bottom: 5px;">
                                You can select a maximum of 6 options.
                            </span>
                            <div class="checkbox-grid" id="ticket-options">
                                <label><input type="checkbox"> Global Leaders Forum <span class="workshop-italic"> !NEW </span> (3 Days)</label>
                                <label><input type="checkbox"> GITEX Main Stage</label>
                                <label><input type="checkbox"> Artificial Intelligence & Robotics (15)</label>
                                <label><input type="checkbox"> AI Everything (4 Days)</label>
                                <label><input type="checkbox"> Cybersecurity (4 Days)</label>
                                <label><input type="checkbox"> Future Health NEW (2 Days)</label>
                                <label><input type="checkbox"> Digital Cities (1 Day)</label>
                                <label><input type="checkbox"> Edtech (1 Day)</label>
                                <label><input type="checkbox"> Energy Transition (1 Day)</label>
                                <label><input type="checkbox"> Intelligent Connectivity (1 Day)</label>
                                <label><input type="checkbox"> Digital Finance (1 Day)</label>
                                <label><input type="checkbox"> Future Mobility (1 Day)</label>
                            </div>
                            <span id="ticket-error" style="color: red; display: none;margin-top: 5px;">Please select at
                                least one ticket option.</span>
                        </div>
                    </div>

                    <div class="premium-footer d-flex justify-content-end">
                       <button id="confirm-selection-btn" class="buy-btn">CONFIRM SELECTION</button>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed checkout bar with horizontal alignment -->
    <div class="fixed-checkout-bar">
        <div class="checkout-right-aligned">
            <div class="total-section">
                <div class="total-amount-row">
                    <span class="total-label">Total:</span>
                    <span class="total-amount" id="total-amount">EUR 0</span>
                    <span class="vat-info">Incl. 19% VAT</span>
                </div>
                <div class="ticket-summary-link">
                    <a href="#" id="view-ticket-summary">View ticket summary</a>
                </div>
            </div>
            <button class="checkout-btn" onclick="proceedToCheckout()">BUY NOW</button>
        </div>
    </div>

    <!-- Enhanced ticket summary popup -->
    <div class="ticket-summary-popup" id="ticket-summary-popup">
        <div class="ticket-summary-header">
            <h3>Ticket Summary</h3>
            <button class="close-summary" id="close-summary">&times;</button>
        </div>
        <div class="ticket-summary-content" id="ticket-summary-content">
            <!-- Ticket items will be added here dynamically -->
        </div>
    </div>

    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/cookie-consent.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/font-awsome.js"></script>


<script>
document.addEventListener('DOMContentLoaded', function () {
    const maxSelections = 6;
    const checkboxes = document.querySelectorAll('#ticket-options input[type="checkbox"]');
    const confirmBtn = document.getElementById('confirm-selection-btn');
    const errorMax = document.getElementById('max-limit-error');
    const errorMin = document.getElementById('ticket-error');

    // Enforce max selection rule
    checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
            const checked = document.querySelectorAll('#ticket-options input[type="checkbox"]:checked');
            if (checked.length > maxSelections) {
                cb.checked = false; // uncheck the one that caused the overflow
                errorMax.style.display = 'block';
            } else {
                errorMax.style.display = 'none';
            }
        });
    });

    // Confirm button logic
    confirmBtn.addEventListener('click', () => {
        const selected = document.querySelectorAll('#ticket-options input[type="checkbox"]:checked');
        if (selected.length === 0) {
            errorMin.style.display = 'block';
        } else {
            errorMin.style.display = 'none';
            errorMax.style.display = 'none';

            // ✅ Manually close the modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('workShop'));
            if (modal) modal.hide();
        }
    });
});
</script>



<script>
    
//  Fixed JavaScript for the ticket summary functionality 

document.addEventListener('DOMContentLoaded', () => {
        // Get the elements
        const viewSummaryLink = document.getElementById('view-ticket-summary');
        const summaryPopup = document.getElementById('ticket-summary-popup');
        const closeSummaryBtn = document.getElementById('close-summary');
        const summaryContent = document.getElementById('ticket-summary-content');
        
        // Make sure elements exist before adding event listeners
        if (!viewSummaryLink || !summaryPopup || !closeSummaryBtn || !summaryContent) {
            console.error('One or more ticket summary elements not found!');
            return;
        }
        
        // Show ticket summary popup when link is clicked
        viewSummaryLink.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('View summary clicked');
            updateTicketSummary();
            summaryPopup.style.display = 'block';
            document.body.classList.add('popup-open'); // Add class to body when popup opens
        });
        
        // Close ticket summary popup
        closeSummaryBtn.addEventListener('click', function() {
            summaryPopup.style.display = 'none';
            document.body.classList.remove('popup-open'); // Remove class when popup closes
        });
        
        // Close popup when clicking outside, but not when clicking on the view summary link
        document.addEventListener('click', function(e) {
            // Check if popup is visible and click is outside popup and not on the summary link
            if (summaryPopup.style.display === 'block' && 
                !summaryPopup.contains(e.target) && 
                e.target !== viewSummaryLink) {
                summaryPopup.style.display = 'none';
            }
        });
  
        
        // Function to update ticket summary content
        function updateTicketSummary() {
            console.log('Updating ticket summary');
            summaryContent.innerHTML = '';
            
            const ticketCards = document.querySelectorAll('.pass-card');
            let hasTickets = false;
            let subtotal = 0;
            
            ticketCards.forEach((card, index) => {
                const quantity = parseInt(card.querySelector('.number-input').value) || 0;
                console.log(`Ticket ${index+1}: quantity = ${quantity}`);
                
                if (quantity > 0) {
                    hasTickets = true;
                    const typeElement = card.querySelector('.pass-type');
                    const type = typeElement ? typeElement.textContent.trim() : 'Unknown Ticket';
                    
                    const priceElement = card.querySelector('.pass-price');
                    const priceText = priceElement ? priceElement.textContent : 'EUR 0';
                    
                    // Extract price value for calculation
                    let priceValue = 0;
                    const priceMatch = priceText.match(/EUR\s+(\d+,?\d*)/);
                    if (priceMatch) {
                        priceValue = parseFloat(priceMatch[1].replace(',', ''));
                    } else if (priceText.includes('FREE')) {
                        priceValue = 0;
                    }
            
                    
                    // Calculate total for this ticket type
                    const totalPrice = priceValue * quantity;
                    subtotal += totalPrice;
                    
                    // Create ticket item element
                    const ticketItem = document.createElement('div');
                    ticketItem.className = 'ticket-item';
                    
                    ticketItem.innerHTML = `
                        <div class="ticket-name">${type}</div>
                        <div class="ticket-details">
                            <span>${quantity} x ${priceText}</span>
                            <span>${priceValue > 0 ? `EUR ${totalPrice.toLocaleString()}` : 'FREE'}</span>
                        </div>
                    `;
                    
                    summaryContent.appendChild(ticketItem);
                }
            });

            
            // If no tickets selected, show message
            if (!hasTickets) {
                summaryContent.innerHTML = '<p>No tickets selected yet.</p>';
            } else {
                // Add total section with promo code
                const totalSection = document.createElement('div');
                totalSection.className = 'ticket-total-section';
                
                // Get promo code and discount if available
                const promoCode = "ABC123" || '';
                const discount = 499;
                
                const finalTotal = subtotal - discount;
                
                totalSection.innerHTML = `
                    <div class="subtotal-row">
                        <span>Subtotal:</span>
                        <span>EUR ${subtotal.toLocaleString()}</span>
                    </div>
                    ${discount > 0 ? 
                        `<div class="promocode-row">
                            <span>Promo discount (${promoCode}):</span>
                            <span>-EUR ${discount.toLocaleString()}</span>
                        </div>` 
                        : ''}
                    <div class="promocode-input">
                        <input type="text" id="promo-code-input" placeholder="Enter promo code" value="${promoCode}">
                        <button id="apply-promo">Apply</button>
                    </div>
                `;
                
                summaryContent.appendChild(totalSection);
                
                // Add promo code functionality - done with a slight delay to ensure the elements exist
                setTimeout(() => {
                    const promoInput = document.getElementById('promo-code-input');
                    const applyButton = document.getElementById('apply-promo');
                    
                    if (promoInput && applyButton) {
                        applyButton.addEventListener('click', function() {
                            const code = promoInput.value.trim();
                            if (code) {
                                // In a real implementation, you would validate the promo code with the server
                                // For demo purposes, we'll just simulate a 10% discount
                                const discountAmount = subtotal * 0.1;
                                localStorage.setItem('promoCode', code);
                                localStorage.setItem('promoDiscount', discountAmount);
                                
                                // Update the summary
                                updateTicketSummary();
                                
                                // Also update the main total
                                updateMainTotal();
                            }
                        });
                    }
                }, 100);
            }
        }
        
        // Function to update the main total amount shown in the fixed bar
        function updateMainTotal() {
            let total = 0;
            
            // Calculate subtotal
            const ticketCards = document.querySelectorAll('.pass-card');
            ticketCards.forEach(card => {
                const quantity = parseInt(card.querySelector('.number-input').value) || 0;
                
                if (quantity > 0) {
                    const priceText = card.querySelector('.pass-price').textContent;
                    const priceMatch = priceText.match(/EUR\s+(\d+,?\d*)/);
                    
                    if (priceMatch) {
                        const price = parseFloat(priceMatch[1].replace(',', ''));
                        total += price * quantity;
                    }
                }
            });
            
            // Apply discount if promo code exists
            const discount = 0;
            
            total = total - discount;
            
            // Update the displayed total
            document.getElementById('total-amount').textContent = `EUR ${total.toLocaleString()}`;
        }
        
        // Call updateMainTotal initially
        updateMainTotal();
        
        // Update both the main total and ticket summary (if open) when quantities change
        const numberInputs = document.querySelectorAll('.number-input');
        numberInputs.forEach(input => {
            input.addEventListener('change', function() {
                updateMainTotal();
                if (summaryPopup.style.display === 'block') {
                    updateTicketSummary();
                }
            });
        });
        
        // Also update when plus/minus buttons are clicked
        const quantityButtons = document.querySelectorAll('.plus, .minus');
        quantityButtons.forEach(button => {
            button.addEventListener('click', function() {
                setTimeout(() => {
                    updateMainTotal();
                    if (summaryPopup.style.display === 'block') {
                        updateTicketSummary();
                    }
                }, 10); // Small delay to ensure input value is updated first
            });
        });
    });


//  Fixed JavaScript for the ticket summary functionality 


// rate tracking 

    // Function to handle confirmation
    function tiketConfirmation() {
        const checkboxes = document.querySelectorAll('#ticket-options input[type="checkbox"]');
        const errorMessage = document.getElementById('ticket-error');

        const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;

        if (checkedCount > 0 && checkedCount <= 6) {
            errorMessage.style.display = 'none';
            location.href = 'registrationmultistepform.html';
        } else if (checkedCount === 0) {
            errorMessage.textContent = 'Please select at least one option.';
            errorMessage.style.display = 'inline';
        } else if (checkedCount > 6) {
            errorMessage.textContent = 'You can select a maximum of 6 options.';
            errorMessage.style.display = 'inline';
        }
    }

            // Limit selection to max 6
            document.addEventListener('DOMContentLoaded', function () {
                const checkboxes = document.querySelectorAll('#ticket-options input[type="checkbox"]');

                checkboxes.forEach(function (checkbox) {
                    checkbox.addEventListener('change', function () {
                        const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;

                        if (checkedCount >= 6) {
                            checkboxes.forEach(cb => {
                                if (!cb.checked) {
                                    cb.disabled = true;
                                }
                            });
                        } else {
                            checkboxes.forEach(cb => cb.disabled = false);
                        }

                        // Hide error when adjusting selections
                        document.getElementById('ticket-error').style.display = 'none';
                    });
                });
            });



        // Add this function to your existing JavaScript to handle the "BUY NOW" button click
        function proceedToCheckout() {
            // Get all ticket selections
            const ticketSelections = [];
            const ticketCards = document.querySelectorAll('.pass-card');
            
            // Loop through each ticket card
            ticketCards.forEach(card => {
                const quantity = parseInt(card.querySelector('.number-input').value) || 0;
                
                // Only add tickets with quantity > 0
                if (quantity > 0) {
                    const typeElement = card.querySelector('.pass-type');
                    const type = typeElement ? typeElement.textContent.trim().split('\n')[0] : 'Unknown Ticket';
                    
                    const priceElement = card.querySelector('.pass-price');
                    const priceText = priceElement ? priceElement.textContent.trim() : 'EUR 0';
                    
                    // Add to selections array
                    ticketSelections.push({
                        type: type,
                        price: priceText,
                        quantity: quantity
                    });
                }
            });
            
            // Check if any tickets were selected
            if (ticketSelections.length === 0) {
    showToast('Please select at least one ticket before proceeding.');
    return;
}

function showToast(message) {
    const toast = document.getElementById('custom-toast');
    toast.innerText = message;
    toast.style.display = 'block';

    setTimeout(() => {
        toast.style.display = 'none';
    }, 3000); // disappears after 3 seconds
}

            
            // Store selections in localStorage for the registration page to access
            localStorage.setItem('ticketSelections', JSON.stringify(ticketSelections));
            
            // Calculate and store the total
            const totalElement = document.getElementById('total-amount');
            const totalText = totalElement ? totalElement.textContent : 'EUR 0';
            localStorage.setItem('ticketTotal', totalText);
            
            // Redirect to registration page
            window.location.href = 'registrationmultistepform.html';
        }


        // ticket count

        function changeNumber(action, button) {
            const container = button.parentElement;
            const input = container.querySelector('.number-input');
            const currentValue = parseInt(input.value);
            const minValue = parseInt(input.getAttribute('min')) || 0;
            const maxValue = parseInt(input.getAttribute('max')) || 99;

            if (action === 'minus' && currentValue > minValue) {
                input.value = currentValue - 1;
            } else if (action === 'plus' && currentValue < maxValue) {
                input.value = currentValue + 1;
            }

            validateInput(input);
        }

        function validateInput(input) {
            let value = parseInt(input.value);
            const minValue = parseInt(input.getAttribute('min')) || 0;
            const maxValue = parseInt(input.getAttribute('max')) || 99;

            if (isNaN(value) || value < minValue) {
                value = minValue;
            } else if (value > maxValue) {
                value = maxValue;
            }

            input.value = value;

            // Update button states
            const container = input.parentElement;
            container.querySelector('.minus').disabled = value <= minValue;
            container.querySelector('.plus').disabled = value >= maxValue;
        }

         // ticket count

         // 1. Modify the saveTicketCount function to store the count
        function saveTicketCount(link) {
            const container = link.closest('.pass-card');
            const input = container.querySelector('.number-input');
            const count = parseInt(input.value);
            
            // Save ticket count to localStorage
            localStorage.setItem('ticketCount', count);
            
            // Also save ticket type and price for display in registration page
            const ticketType = container.querySelector('.pass-type').textContent.trim();
            const ticketPrice = container.querySelector('.pass-price').textContent.trim();
            
            localStorage.setItem('ticketType', ticketType);
            localStorage.setItem('ticketPrice', ticketPrice);
        }

</script>


</body>

</html>